<section class="sport-page">
  <header class="sport-hero">
    <div>
      <p class="sport-tag">TENNIS</p>
      <h2>{{ pageTitle }}</h2>
      <p>{{ subtitle }}</p>
    </div>
    <span class="sport-status">Live feed</span>
  </header>

  <section class="widget-block">
    @if (error) {
      <p class="meta">{{ error }}</p>
    } @else if (loading) {
      <p class="meta">Loading tennis events...</p>
    } @else if (!matches.length) {
      <p class="meta">No tennis events are available right now.</p>
    } @else {
      <div class="odds-grid">
        @for (match of matches; track match.id) {
          <article
            class="odds-card"
            [class.active]="selectedMatch?.id === match.id"
            (click)="selectMatch(match)">
            <div class="teams">
              <strong>{{ match.homeTeam }}</strong>
              <span>vs</span>
              <strong>{{ match.awayTeam }}</strong>
            </div>
            <p class="meta">{{ match.kickoff | date: 'EEE d MMM, HH:mm' }} | {{ match.bookmaker }}</p>
            <div class="prices">
              @for (odd of match.odds; track odd.name) {
                <button
                  type="button"
                  class="price-btn"
                  [class.selected]="isSelected(match, odd)"
                  (click)="addToSlip($event, match, odd)">
                  <span>{{ odd.name }}</span>
                  <b>{{ odd.price }}</b>
                </button>
              }
            </div>
          </article>
        }
      </div>

      @if (selectedMatch) {
        <article class="detail-card">
          <h3>{{ selectedMatch.homeTeam }} vs {{ selectedMatch.awayTeam }}</h3>
          <p class="meta">
            Kickoff: {{ selectedMatch.kickoff | date: 'EEEE, d MMMM y, HH:mm' }} | Bookmaker: {{ selectedMatch.bookmaker }}
          </p>
          <div class="detail-prices">
            @for (odd of selectedMatch.odds; track odd.name) {
              <button
                type="button"
                class="price-btn detail-btn"
                [class.selected]="isSelected(selectedMatch, odd)"
                (click)="addToSlip($event, selectedMatch, odd)">
                <span>{{ odd.name }}</span>
                <strong>{{ odd.price }}</strong>
              </button>
            }
          </div>
        </article>
      }
    }
  </section>
</section>
